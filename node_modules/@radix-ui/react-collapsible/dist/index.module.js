import{useId as e}from"@radix-ui/react-id";import{Presence as t}from"@radix-ui/react-presence";import{Primitive as o}from"@radix-ui/react-primitive";import{useComposedRefs as n}from"@radix-ui/react-compose-refs";import{useLayoutEffect as r}from"@radix-ui/react-use-layout-effect";import{useControllableState as i}from"@radix-ui/react-use-controllable-state";import{createContextScope as a}from"@radix-ui/react-context";import{composeEventHandlers as l}from"@radix-ui/primitive";import*as s from"react";import c from"@babel/runtime/helpers/esm/extends";const[p,d]=a("Collapsible");export{d as createCollapsibleScope};const[u,m]=p("Collapsible");export const Collapsible=/*#__PURE__*/s.forwardRef(((t,n)=>{const{__scopeCollapsible:r,open:a,defaultOpen:l,disabled:p,onOpenChange:d,...m}=t,[f=!1,C]=i({prop:a,defaultProp:l,onChange:d});/*#__PURE__*/return s.createElement(u,{scope:r,disabled:p,contentId:e(),open:f,onOpenToggle:s.useCallback((()=>C((e=>!e))),[C])},/*#__PURE__*/s.createElement(o.div,c({"data-state":b(f),"data-disabled":p?"":void 0},m,{ref:n})))}));/*#__PURE__*/export const CollapsibleTrigger=/*#__PURE__*/s.forwardRef(((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=m("CollapsibleTrigger",n);/*#__PURE__*/return s.createElement(o.button,c({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":b(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},r,{ref:t,onClick:l(e.onClick,i.onOpenToggle)}))}));/*#__PURE__*/export const CollapsibleContent=/*#__PURE__*/s.forwardRef(((e,o)=>{const{forceMount:n,...r}=e,i=m("CollapsibleContent",e.__scopeCollapsible);/*#__PURE__*/return s.createElement(t,{present:n||i.open},(({present:e})=>/*#__PURE__*/s.createElement(f,c({},r,{ref:o,present:e}))))}));/*#__PURE__*/const f=/*#__PURE__*/s.forwardRef(((e,t)=>{const{__scopeCollapsible:i,present:a,children:l,...p}=e,d=m("CollapsibleContent",i),[u,f]=s.useState(a),C=s.useRef(null),x=n(t,C),g=s.useRef(0),y=g.current,h=s.useRef(0),R=h.current,D=d.open||u,v=s.useRef(D),_=s.useRef();return s.useEffect((()=>{const e=requestAnimationFrame((()=>v.current=!1));return()=>cancelAnimationFrame(e)}),[]),r((()=>{const e=C.current;if(e){_.current=_.current||{transitionDuration:e.style.transitionDuration,animationDuration:e.style.animationDuration,animationFillMode:e.style.animationFillMode},e.style.transitionDuration="0s",e.style.animationDuration="0s",e.style.animationFillMode="none";const t=e.getBoundingClientRect();g.current=t.height,h.current=t.width,v.current||(e.style.transitionDuration=_.current.transitionDuration,e.style.animationDuration=_.current.animationDuration,e.style.animationFillMode=_.current.animationFillMode),f(a)}}),[d.open,a]),/*#__PURE__*/s.createElement(o.div,c({"data-state":b(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!D},p,{ref:x,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":R?`${R}px`:void 0,...e.style}}),D&&l)}));function b(e){return e?"open":"closed"}export const Root=Collapsible;export const Trigger=CollapsibleTrigger;export const Content=CollapsibleContent;
//# sourceMappingURL=index.module.js.map
