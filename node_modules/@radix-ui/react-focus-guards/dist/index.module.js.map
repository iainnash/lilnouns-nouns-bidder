{"mappings":"wBAGA,IAAIA,EAAQ,SAEZ,SAASC,YAAYC,GAEnB,OADAC,iBACOD,EAAME,gBAOf,SAASD,iBACPE,EAAMC,WAAU,KAAM,IAAAC,EAAAC,EACpB,MAAMC,EAAaC,SAASC,iBAAiB,4BAK7C,OAJAD,SAASE,KAAKC,sBAAsB,aAApC,QAAAN,EAAkDE,EAAW,UAA7D,IAAAF,EAAAA,EAAmEO,KACnEJ,SAASE,KAAKC,sBAAsB,YAApC,QAAAL,EAAiDC,EAAW,UAA5D,IAAAD,EAAAA,EAAkEM,KAClEd,IAEO,KACS,IAAVA,GACFU,SAASC,iBAAiB,4BAA4BI,SAASC,GAASA,EAAKC,WAE/EjB,OAED,IAGL,SAASc,IACP,MAAMI,EAAUR,SAASS,cAAc,QAIvC,OAHAD,EAAQE,aAAa,yBAA0B,IAC/CF,EAAQG,SAAW,EACnBH,EAAQI,MAAMC,QAAU,mEACjBL,SAGT,MAAMM,KAAOvB","sources":["./packages/react/focus-guards/src/FocusGuards.tsx"],"sourcesContent":["import * as React from 'react';\n\n/** Number of components which have requested interest to have focus guards */\nlet count = 0;\n\nfunction FocusGuards(props: any) {\n  useFocusGuards();\n  return props.children;\n}\n\n/**\n * Injects a pair of focus guards at the edges of the whole DOM tree\n * to ensure `focusin` & `focusout` events can be caught consistently.\n */\nfunction useFocusGuards() {\n  React.useEffect(() => {\n    const edgeGuards = document.querySelectorAll('[data-radix-focus-guard]');\n    document.body.insertAdjacentElement('afterbegin', edgeGuards[0] ?? createFocusGuard());\n    document.body.insertAdjacentElement('beforeend', edgeGuards[1] ?? createFocusGuard());\n    count++;\n\n    return () => {\n      if (count === 1) {\n        document.querySelectorAll('[data-radix-focus-guard]').forEach((node) => node.remove());\n      }\n      count--;\n    };\n  }, []);\n}\n\nfunction createFocusGuard() {\n  const element = document.createElement('span');\n  element.setAttribute('data-radix-focus-guard', '');\n  element.tabIndex = 0;\n  element.style.cssText = 'outline: none; opacity: 0; position: fixed; pointer-events: none';\n  return element;\n}\n\nconst Root = FocusGuards;\n\nexport {\n  FocusGuards,\n  //\n  Root,\n  //\n  useFocusGuards,\n};\n"],"names":["count","FocusGuards","props","useFocusGuards","children","React","useEffect","_edgeGuards$","_edgeGuards$2","edgeGuards","document","querySelectorAll","body","insertAdjacentElement","createFocusGuard","forEach","node","remove","element","createElement","setAttribute","tabIndex","style","cssText","Root"],"version":3,"file":"index.module.js.map"}