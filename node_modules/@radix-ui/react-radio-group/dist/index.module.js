import{Presence as e}from"@radix-ui/react-presence";import{usePrevious as r}from"@radix-ui/react-use-previous";import{useSize as o}from"@radix-ui/react-use-size";import{useControllableState as t}from"@radix-ui/react-use-controllable-state";import*as a from"@radix-ui/react-roving-focus";import{createRovingFocusGroupScope as n}from"@radix-ui/react-roving-focus";import{Primitive as i}from"@radix-ui/react-primitive";import{createContextScope as c}from"@radix-ui/react-context";import{useComposedRefs as d}from"@radix-ui/react-compose-refs";import{useLabelContext as u}from"@radix-ui/react-label";import{composeEventHandlers as l}from"@radix-ui/primitive";import*as s from"react";import p from"@babel/runtime/helpers/esm/extends";const[m,f]=c("Radio"),[b,v]=m("Radio"),R=/*#__PURE__*/s.forwardRef(((e,r)=>{const{__scopeRadio:o,"aria-labelledby":t,name:a,checked:n=!1,required:c,disabled:m,value:f="on",onCheck:v,...R}=e,[h,x]=s.useState(null),y=d(r,(e=>x(e))),w=u(h),g=t||w,G=s.useRef(!1),C=!h||Boolean(h.closest("form"));/*#__PURE__*/return s.createElement(b,{scope:o,checked:n,disabled:m},/*#__PURE__*/s.createElement(i.button,p({type:"button",role:"radio","aria-checked":n,"aria-labelledby":g,"data-state":E(n),"data-disabled":m?"":void 0,disabled:m,value:f},R,{ref:y,onClick:l(e.onClick,(e=>{n||null==v||v(),C&&(G.current=e.isPropagationStopped(),G.current||e.stopPropagation())}))})),C&&/*#__PURE__*/s.createElement(k,{control:h,bubbles:!G.current,name:a,value:f,checked:n,required:c,disabled:m,style:{transform:"translateX(-100%)"}}))})),h=/*#__PURE__*/s.forwardRef(((r,o)=>{const{__scopeRadio:t,forceMount:a,...n}=r,c=v("RadioIndicator",t);/*#__PURE__*/return s.createElement(e,{present:a||c.checked},/*#__PURE__*/s.createElement(i.span,p({"data-state":E(c.checked),"data-disabled":c.disabled?"":void 0},n,{ref:o})))})),k=e=>{const{control:t,checked:a,bubbles:n=!0,...i}=e,c=s.useRef(null),d=r(a),u=o(t);return s.useEffect((()=>{const e=c.current,r=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(r,"checked").set;if(d!==a&&o){const r=new Event("click",{bubbles:n});o.call(e,a),e.dispatchEvent(r)}}),[d,a,n]),/*#__PURE__*/s.createElement("input",p({type:"radio","aria-hidden":!0,defaultChecked:a},i,{tabIndex:-1,ref:c,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function E(e){return e?"checked":"unchecked"}const x=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],[y,w]=c("RadioGroup",[n,f]);export{w as createRadioGroupScope};const g=n(),G=f(),[C,I]=y("RadioGroup");export const RadioGroup=/*#__PURE__*/s.forwardRef(((e,r)=>{const{__scopeRadioGroup:o,name:n,"aria-labelledby":c,defaultValue:d,value:l,required:m=!1,orientation:f,dir:b="ltr",loop:v=!0,onValueChange:R,...h}=e,k=u(),E=c||k,x=g(o),[y,w]=t({prop:l,defaultProp:d,onChange:R});/*#__PURE__*/return s.createElement(C,{scope:o,name:n,required:m,value:y,onValueChange:w},/*#__PURE__*/s.createElement(a.Root,p({asChild:!0},x,{orientation:f,dir:b,loop:v}),/*#__PURE__*/s.createElement(i.div,p({role:"radiogroup","aria-orientation":f,"aria-labelledby":E,dir:b},h,{ref:r}))))}));/*#__PURE__*/export const RadioGroupItem=/*#__PURE__*/s.forwardRef(((e,r)=>{const{__scopeRadioGroup:o,disabled:t,...n}=e,i=I("RadioGroupItem",o),c=g(o),u=G(o),m=s.useRef(null),f=d(r,m),b=i.value===n.value,v=s.useRef(!1);return s.useEffect((()=>{const e=e=>{x.includes(e.key)&&(v.current=!0)},r=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",r)}}),[]),/*#__PURE__*/s.createElement(a.Item,p({asChild:!0},c,{focusable:!t,active:b}),/*#__PURE__*/s.createElement(R,p({disabled:t,required:i.required,checked:b},u,n,{name:i.name,ref:f,onCheck:()=>i.onValueChange(n.value),onKeyDown:l((e=>{"Enter"===e.key&&e.preventDefault()})),onFocus:l(n.onFocus,(()=>{var e;v.current&&(null===(e=m.current)||void 0===e||e.click())}))})))}));/*#__PURE__*/export const RadioGroupIndicator=/*#__PURE__*/s.forwardRef(((e,r)=>{const{__scopeRadioGroup:o,...t}=e,a=G(o);/*#__PURE__*/return s.createElement(h,p({},a,t,{ref:r}))}));/*#__PURE__*/export const Root=RadioGroup;export const Item=RadioGroupItem;export const Indicator=RadioGroupIndicator;
//# sourceMappingURL=index.module.js.map
