import{useLabelContext as e}from"@radix-ui/react-label";import{Primitive as t}from"@radix-ui/react-primitive";import{useSize as r}from"@radix-ui/react-use-size";import{usePrevious as o}from"@radix-ui/react-use-previous";import{useControllableState as a}from"@radix-ui/react-use-controllable-state";import{createContextScope as c}from"@radix-ui/react-context";import{useComposedRefs as i}from"@radix-ui/react-compose-refs";import{composeEventHandlers as n}from"@radix-ui/primitive";import*as s from"react";import d from"@babel/runtime/helpers/esm/extends";const[l,u]=c("Switch");export{u as createSwitchScope};const[p,m]=l("Switch");export const Switch=/*#__PURE__*/s.forwardRef(((r,o)=>{const{__scopeSwitch:c,"aria-labelledby":l,name:u,checked:m,defaultChecked:f,required:x,disabled:k,value:w="on",onCheckedChange:v,...S}=r,[y,E]=s.useState(null),C=i(o,(e=>E(e))),g=e(y),R=l||g,T=s.useRef(!1),P=!y||Boolean(y.closest("form")),[_=!1,q]=a({prop:m,defaultProp:f,onChange:v});/*#__PURE__*/return s.createElement(p,{scope:c,checked:_,disabled:k},/*#__PURE__*/s.createElement(t.button,d({type:"button",role:"switch","aria-checked":_,"aria-labelledby":R,"aria-required":x,"data-state":h(_),"data-disabled":k?"":void 0,disabled:k,value:w},S,{ref:C,onClick:n(r.onClick,(e=>{q((e=>!e)),P&&(T.current=e.isPropagationStopped(),T.current||e.stopPropagation())}))})),P&&/*#__PURE__*/s.createElement(b,{control:y,bubbles:!T.current,name:u,value:w,checked:_,required:x,disabled:k,style:{transform:"translateX(-100%)"}}))}));/*#__PURE__*/export const SwitchThumb=/*#__PURE__*/s.forwardRef(((e,r)=>{const{__scopeSwitch:o,...a}=e,c=m("SwitchThumb",o);/*#__PURE__*/return s.createElement(t.span,d({"data-state":h(c.checked),"data-disabled":c.disabled?"":void 0},a,{ref:r}))}));/*#__PURE__*/const b=e=>{const{control:t,checked:a,bubbles:c=!0,...i}=e,n=s.useRef(null),l=o(a),u=r(t);return s.useEffect((()=>{const e=n.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==a&&r){const t=new Event("click",{bubbles:c});r.call(e,a),e.dispatchEvent(t)}}),[l,a,c]),/*#__PURE__*/s.createElement("input",d({type:"checkbox","aria-hidden":!0,defaultChecked:a},i,{tabIndex:-1,ref:n,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function h(e){return e?"checked":"unchecked"}export const Root=Switch;export const Thumb=SwitchThumb;
//# sourceMappingURL=index.module.js.map
