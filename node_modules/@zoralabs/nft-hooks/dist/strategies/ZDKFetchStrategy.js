"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ZDKFetchStrategy = void 0;
const _1 = require(".");
const backends_1 = require("../backends");
class ZDKFetchStrategy extends _1.NFTStrategy {
    constructor(networkId, options = {}) {
        super(networkId);
        this.fetchNFT = async (contract, id) => {
            const result = await this.source.loadNFT({ contract, id });
            if (result instanceof Error) {
                throw result;
            }
            return this.source.transformNFT(result);
        };
        this.queryNFTs = async (query) => {
            return await this.source.queryNFTs(query);
        };
        this.source = new backends_1.ZDKDataSource(networkId, options);
    }
}
exports.ZDKFetchStrategy = ZDKFetchStrategy;
